/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 0.5.2
 * Copyright (C) 2014 Oliver Nightingale
 * MIT Licensed
 * @license
 */
!function(){var e=function(t){var r=new e.Index;return r.pipeline.add(e.trimmer,e.stopWordFilter,e.stemmer),t&&t.call(r,r),r};e.version="0.5.2",/*!
 * lunr.utils
 * Copyright (C) 2014 Oliver Nightingale
 */
e.utils={},e.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),/*!
 * lunr.EventEmitter
 * Copyright (C) 2014 Oliver Nightingale
 */
e.EventEmitter=function(){this.events={}},e.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),r=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");r.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},e.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var r=this.events[e].indexOf(t);this.events[e].splice(r,1),this.events[e].length||delete this.events[e]}},e.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)})}},e.EventEmitter.prototype.hasHandler=function(e){return e in this.events},/*!
 * lunr.tokenizer
 * Copyright (C) 2014 Oliver Nightingale
 */
e.tokenizer=function(e){if(!arguments.length||null==e||void 0==e)return[];if(Array.isArray(e))return e.map(function(e){return e.toLowerCase()});for(var t=e.toString().replace(/^\s+/,""),r=t.length-1;r>=0;r--)if(/\S/.test(t.charAt(r))){t=t.substring(0,r+1);break}return t.split(/\s+/).map(function(e){return e.toLowerCase()})},/*!
 * lunr.Pipeline
 * Copyright (C) 2014 Oliver Nightingale
 */
e.Pipeline=function(){this._stack=[]},e.Pipeline.registeredFunctions={},e.Pipeline.registerFunction=function(t,r){r in this.registeredFunctions&&e.utils.warn("Overwriting existing registered function: "+r),t.label=r,e.Pipeline.registeredFunctions[t.label]=t},e.Pipeline.warnIfFunctionNotRegistered=function(t){var r=t.label&&t.label in this.registeredFunctions;r||e.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},e.Pipeline.load=function(t){var r=new e.Pipeline;return t.forEach(function(t){var a=e.Pipeline.registeredFunctions[t];if(!a)throw new Error("Cannot load un-registered function: "+t);r.add(a)}),r},e.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(t){e.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},e.Pipeline.prototype.after=function(t,r){e.Pipeline.warnIfFunctionNotRegistered(r);var a=this._stack.indexOf(t)+1;this._stack.splice(a,0,r)},e.Pipeline.prototype.before=function(t,r){e.Pipeline.warnIfFunctionNotRegistered(r);var a=this._stack.indexOf(t);this._stack.splice(a,0,r)},e.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);this._stack.splice(t,1)},e.Pipeline.prototype.run=function(e){for(var t=[],r=e.length,a=this._stack.length,n=0;r>n;n++){for(var i=e[n],o=0;a>o&&(i=this._stack[o](i,n,e),void 0!==i);o++);void 0!==i&&t.push(i)}return t},e.Pipeline.prototype.reset=function(){this._stack=[]},e.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return e.Pipeline.warnIfFunctionNotRegistered(t),t.label})},/*!
 * lunr.Vector
 * Copyright (C) 2014 Oliver Nightingale
 */
e.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},e.Vector.Node=function(e,t,r){this.idx=e,this.val=t,this.next=r},e.Vector.prototype.insert=function(t,r){var a=this.list;if(!a)return this.list=new e.Vector.Node(t,r,a),this.length++;for(var n=a,i=a.next;void 0!=i;){if(t<i.idx)return n.next=new e.Vector.Node(t,r,i),this.length++;n=i,i=i.next}return n.next=new e.Vector.Node(t,r,i),this.length++},e.Vector.prototype.magnitude=function(){if(this._magniture)return this._magnitude;for(var e,t=this.list,r=0;t;)e=t.val,r+=e*e,t=t.next;return this._magnitude=Math.sqrt(r)},e.Vector.prototype.dot=function(e){for(var t=this.list,r=e.list,a=0;t&&r;)t.idx<r.idx?t=t.next:t.idx>r.idx?r=r.next:(a+=t.val*r.val,t=t.next,r=r.next);return a},e.Vector.prototype.similarity=function(e){return this.dot(e)/(this.magnitude()*e.magnitude())},/*!
 * lunr.SortedSet
 * Copyright (C) 2014 Oliver Nightingale
 */
e.SortedSet=function(){this.length=0,this.elements=[]},e.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},e.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(e){~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e)},this),this.length=this.elements.length},e.SortedSet.prototype.toArray=function(){return this.elements.slice()},e.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},e.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},e.SortedSet.prototype.indexOf=function(e,t,r){var t=t||0,r=r||this.elements.length,a=r-t,n=t+Math.floor(a/2),i=this.elements[n];return 1>=a?i===e?n:-1:e>i?this.indexOf(e,n,r):i>e?this.indexOf(e,t,n):i===e?n:void 0},e.SortedSet.prototype.locationFor=function(e,t,r){var t=t||0,r=r||this.elements.length,a=r-t,n=t+Math.floor(a/2),i=this.elements[n];if(1>=a){if(i>e)return n;if(e>i)return n+1}return e>i?this.locationFor(e,n,r):i>e?this.locationFor(e,t,n):void 0},e.SortedSet.prototype.intersect=function(t){for(var r=new e.SortedSet,a=0,n=0,i=this.length,o=t.length,d=this.elements,c=t.elements;;){if(a>i-1||n>o-1)break;d[a]!==c[n]?d[a]<c[n]?a++:d[a]>c[n]&&n++:(r.add(d[a]),a++,n++)}return r},e.SortedSet.prototype.clone=function(){var t=new e.SortedSet;return t.elements=this.toArray(),t.length=t.elements.length,t},e.SortedSet.prototype.union=function(e){var t,r,a;return this.length>=e.length?(t=this,r=e):(t=e,r=this),a=t.clone(),a.add.apply(a,r.toArray()),a},e.SortedSet.prototype.toJSON=function(){return this.toArray()},/*!
 * lunr.Index
 * Copyright (C) 2014 Oliver Nightingale
 */
e.Index=function(){this._fields=[],this._ref="id",this.pipeline=new e.Pipeline,this.documentStore=new e.Store,this.tokenStore=new e.TokenStore,this.corpusTokens=new e.SortedSet,this.eventEmitter=new e.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},e.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},e.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},e.Index.load=function(t){t.version!==e.version&&e.utils.warn("version mismatch: current "+e.version+" importing "+t.version);var r=new this;return r._fields=t.fields,r._ref=t.ref,r.documentStore=e.Store.load(t.documentStore),r.tokenStore=e.TokenStore.load(t.tokenStore),r.corpusTokens=e.SortedSet.load(t.corpusTokens),r.pipeline=e.Pipeline.load(t.pipeline),r},e.Index.prototype.field=function(e,t){var t=t||{},r={name:e,boost:t.boost||1};return this._fields.push(r),this},e.Index.prototype.ref=function(e){return this._ref=e,this},e.Index.prototype.add=function(t,r){var a={},n=new e.SortedSet,i=t[this._ref],r=void 0===r?!0:r;this._fields.forEach(function(r){var i=this.pipeline.run(e.tokenizer(t[r.name]));a[r.name]=i,e.SortedSet.prototype.add.apply(n,i)},this),this.documentStore.set(i,n),e.SortedSet.prototype.add.apply(this.corpusTokens,n.toArray());for(var o=0;o<n.length;o++){var d=n.elements[o],c=this._fields.reduce(function(e,t){var r=a[t.name].length;if(!r)return e;var n=a[t.name].filter(function(e){return e===d}).length;return e+n/r*t.boost},0);this.tokenStore.add(d,{ref:i,tf:c})}r&&this.eventEmitter.emit("add",t,this)},e.Index.prototype.remove=function(e,t){var r=e[this._ref],t=void 0===t?!0:t;if(this.documentStore.has(r)){var a=this.documentStore.get(r);this.documentStore.remove(r),a.forEach(function(e){this.tokenStore.remove(e,r)},this),t&&this.eventEmitter.emit("remove",e,this)}},e.Index.prototype.update=function(e,t){var t=void 0===t?!0:t;this.remove(e,!1),this.add(e,!1),t&&this.eventEmitter.emit("update",e,this)},e.Index.prototype.idf=function(e){var t="@"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,t))return this._idfCache[t];var r=this.tokenStore.count(e),a=1;return r>0&&(a=1+Math.log(this.tokenStore.length/r)),this._idfCache[t]=a},e.Index.prototype.search=function(t){var r=this.pipeline.run(e.tokenizer(t)),a=new e.Vector,n=[],i=this._fields.reduce(function(e,t){return e+t.boost},0),o=r.some(function(e){return this.tokenStore.has(e)},this);if(!o)return[];r.forEach(function(t,r,o){var d=1/o.length*this._fields.length*i,c=this,s=this.tokenStore.expand(t).reduce(function(r,n){var i=c.corpusTokens.indexOf(n),o=c.idf(n),s=1,p=new e.SortedSet;if(n!==t){var l=Math.max(3,n.length-t.length);s=1/Math.log(l)}return i>-1&&a.insert(i,d*o*s),Object.keys(c.tokenStore.get(n)).forEach(function(e){p.add(e)}),r.union(p)},new e.SortedSet);n.push(s)},this);var d=n.reduce(function(e,t){return e.intersect(t)});return d.map(function(e){return{ref:e,score:a.similarity(this.documentVector(e))}},this).sort(function(e,t){return t.score-e.score})},e.Index.prototype.documentVector=function(t){for(var r=this.documentStore.get(t),a=r.length,n=new e.Vector,i=0;a>i;i++){var o=r.elements[i],d=this.tokenStore.get(o)[t].tf,c=this.idf(o);n.insert(this.corpusTokens.indexOf(o),d*c)}return n},e.Index.prototype.toJSON=function(){return{version:e.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},e.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},/*!
 * lunr.Store
 * Copyright (C) 2014 Oliver Nightingale
 */
e.Store=function(){this.store={},this.length=0},e.Store.load=function(t){var r=new this;return r.length=t.length,r.store=Object.keys(t.store).reduce(function(r,a){return r[a]=e.SortedSet.load(t.store[a]),r},{}),r},e.Store.prototype.set=function(e,t){this.store[e]=t,this.length=Object.keys(this.store).length},e.Store.prototype.get=function(e){return this.store[e]},e.Store.prototype.has=function(e){return e in this.store},e.Store.prototype.remove=function(e){this.has(e)&&(delete this.store[e],this.length--)},e.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},/*!
 * lunr.stemmer
 * Copyright (C) 2014 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
e.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},r="[^aeiou]",a="[aeiouy]",n=r+"[^aeiouy]*",i=a+"[aeiou]*",o="^("+n+")?"+i+n,d="^("+n+")?"+i+n+"("+i+")?$",c="^("+n+")?"+i+n+i+n,s="^("+n+")?"+a;return function(r){var i,p,l,u,f,g,h;if(r.length<3)return r;if(l=r.substr(0,1),"y"==l&&(r=l.toUpperCase()+r.substr(1)),u=/^(.+?)(ss|i)es$/,f=/^(.+?)([^s])s$/,u.test(r)?r=r.replace(u,"$1$2"):f.test(r)&&(r=r.replace(f,"$1$2")),u=/^(.+?)eed$/,f=/^(.+?)(ed|ing)$/,u.test(r)){var b=u.exec(r);u=new RegExp(o),u.test(b[1])&&(u=/.$/,r=r.replace(u,""))}else if(f.test(r)){var b=f.exec(r);i=b[1],f=new RegExp(s),f.test(i)&&(r=i,f=/(at|bl|iz)$/,g=new RegExp("([^aeiouylsz])\\1$"),h=new RegExp("^"+n+a+"[^aeiouwxy]$"),f.test(r)?r+="e":g.test(r)?(u=/.$/,r=r.replace(u,"")):h.test(r)&&(r+="e"))}if(u=/^(.+?)y$/,u.test(r)){var b=u.exec(r);i=b[1],u=new RegExp(s),u.test(i)&&(r=i+"i")}if(u=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,u.test(r)){var b=u.exec(r);i=b[1],p=b[2],u=new RegExp(o),u.test(i)&&(r=i+e[p])}if(u=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,u.test(r)){var b=u.exec(r);i=b[1],p=b[2],u=new RegExp(o),u.test(i)&&(r=i+t[p])}if(u=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,f=/^(.+?)(s|t)(ion)$/,u.test(r)){var b=u.exec(r);i=b[1],u=new RegExp(c),u.test(i)&&(r=i)}else if(f.test(r)){var b=f.exec(r);i=b[1]+b[2],f=new RegExp(c),f.test(i)&&(r=i)}if(u=/^(.+?)e$/,u.test(r)){var b=u.exec(r);i=b[1],u=new RegExp(c),f=new RegExp(d),g=new RegExp("^"+n+a+"[^aeiouwxy]$"),(u.test(i)||f.test(i)&&!g.test(i))&&(r=i)}return u=/ll$/,f=new RegExp(c),u.test(r)&&f.test(r)&&(u=/.$/,r=r.replace(u,"")),"y"==l&&(r=l.toLowerCase()+r.substr(1)),r}}(),e.Pipeline.registerFunction(e.stemmer,"stemmer"),/*!
 * lunr.stopWordFilter
 * Copyright (C) 2014 Oliver Nightingale
 */
e.stopWordFilter=function(t){return-1===e.stopWordFilter.stopWords.indexOf(t)?t:void 0},e.stopWordFilter.stopWords=new e.SortedSet,e.stopWordFilter.stopWords.length=119,e.stopWordFilter.stopWords.elements=["","a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"],e.Pipeline.registerFunction(e.stopWordFilter,"stopWordFilter"),/*!
 * lunr.trimmer
 * Copyright (C) 2014 Oliver Nightingale
 */
e.trimmer=function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")},e.Pipeline.registerFunction(e.trimmer,"trimmer"),/*!
 * lunr.stemmer
 * Copyright (C) 2014 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
e.TokenStore=function(){this.root={docs:{}},this.length=0},e.TokenStore.load=function(e){var t=new this;return t.root=e.root,t.length=e.length,t},e.TokenStore.prototype.add=function(e,t,r){var r=r||this.root,a=e[0],n=e.slice(1);return a in r||(r[a]={docs:{}}),0===n.length?(r[a].docs[t.ref]=t,void(this.length+=1)):this.add(n,t,r[a])},e.TokenStore.prototype.has=function(e){if(!e)return!1;for(var t=this.root,r=0;r<e.length;r++){if(!t[e[r]])return!1;t=t[e[r]]}return!0},e.TokenStore.prototype.getNode=function(e){if(!e)return{};for(var t=this.root,r=0;r<e.length;r++){if(!t[e[r]])return{};t=t[e[r]]}return t},e.TokenStore.prototype.get=function(e,t){return this.getNode(e,t).docs||{}},e.TokenStore.prototype.count=function(e,t){return Object.keys(this.get(e,t)).length},e.TokenStore.prototype.remove=function(e,t){if(e){for(var r=this.root,a=0;a<e.length;a++){if(!(e[a]in r))return;r=r[e[a]]}delete r.docs[t]}},e.TokenStore.prototype.expand=function(e,t){var r=this.getNode(e),a=r.docs||{},t=t||[];return Object.keys(a).length&&t.push(e),Object.keys(r).forEach(function(r){"docs"!==r&&t.concat(this.expand(e+r,t))},this),t},e.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.lunr=t()}(this,function(){return e})}();